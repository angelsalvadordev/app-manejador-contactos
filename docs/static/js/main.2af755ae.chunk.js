(this["webpackJsonpmanejador-contactos"]=this["webpackJsonpmanejador-contactos"]||[]).push([[0],{10:function(e,t,a){},11:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(4),o=a.n(l),r=function(){return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"intro col"},c.a.createElement("h1",{className:"intro__title text-center"},"MANEJADOR",c.a.createElement("span",{className:"font-weight-normal"},"DE"),"CONTACTOS"),c.a.createElement("h2",{className:"intro__subtitle font-weight-normal text-center"},"Busca, edita o elimina un contacto")))},i=a(1),s=c.a.createContext(),m=function(){var e=Object(n.useContext)(s),t=Object(i.a)(e,1)[0];return c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-6 col-md-3 col-lg-2 bg-confirm counter-contacts"},"Contactos:",c.a.createElement("span",null,t.contacts.length)))},u=function(e){return{type:"DISABLE_SEARCHER",data:e}},d=function(e){return{type:"FORM_ADD_CONTACT",data:e}},f=function(){var e=Object(n.useContext)(s),t=Object(i.a)(e,2),a=t[0],l=t[1];return c.a.createElement("div",{className:"col-10 col-md-11 d-flex bg-secondary searcher"},a.isSearcherDisabled?c.a.createElement("div",{className:"text-white d-flex align-items-center pl-1"},"Buscador Deshabilitado"):c.a.createElement("input",{onKeyUp:function(e){return l({type:"SEARCH_CONTACT",data:e.target.value})},className:"searcher__input text-white",type:"text",placeholder:"Buscar contacto"}))},p=a(2),E=function(e){var t=e.contact,a=e.setShowEditor,l=e.setShowOptions,o=t.id,r=t.name,m=t.phone,d=t.email,f=Object(n.useContext)(s),E=Object(i.a)(f,2),b=(E[0],E[1]);return c.a.createElement("div",{className:"contact-edit d-flex align-items-center row no-gutters bg-light"},c.a.createElement("div",{className:"col-12"},c.a.createElement("form",{action:"#",className:"contact-edit-form",onSubmit:function(e){e.preventDefault();var t=Array.from(e.target.querySelectorAll("div > input")),n={};t.forEach((function(e){if("name"===e.name){var t=e.value.split(" ");return console.log(t),n.name.first=t[0],void(n.name.last=t[1])}n[e.name]=e.value})),b({type:"EDIT_CONTACT",data:Object(p.a)({id:o},n)}),a(!1),l(!1),b(u(!1))}},c.a.createElement("div",{className:"d-flex"},c.a.createElement("label",{className:"f-icon"},"account_circle"),c.a.createElement("input",{type:"text",name:"name",placeholder:"Name",defaultValue:r})),c.a.createElement("div",{className:"d-flex"},c.a.createElement("label",{className:"f-icon"},"phone"),c.a.createElement("input",{type:"text",name:"phone",placeholder:"Telefono",defaultValue:m})),c.a.createElement("div",{className:"d-flex"},c.a.createElement("label",{className:"f-icon"},"email"),c.a.createElement("input",{type:"text",name:"email",placeholder:"Email",defaultValue:d})),c.a.createElement("input",{type:"button",value:"close",className:"contact-edit-form__close bg-danger f-icon",onClick:function(e){window.confirm("Seguro que deseas salir del modo editar?")&&(e.stopPropagation(),a(!1),b(u(!1)),l(!1))}}),c.a.createElement("input",{type:"submit",value:"check",className:"contact-edit-form__send f-icon bg-confirm"}))))},b=function(e){var t=e.contact,a=e.setShowOptions,l=Object(n.useState)(!1),o=Object(i.a)(l,2),r=o[0],m=o[1],d=Object(n.useContext)(s),f=Object(i.a)(d,2),p=(f[0],f[1]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row no-gutters d-flex bg-light contact-options"},c.a.createElement("div",{className:"col-6 d-flex justify-content-center align-items-center "},c.a.createElement("span",{className:"contact-options__edit d-flex align-items-center",onClick:function(e){e.stopPropagation(),m(!0),p(u(!0))}},"Editar")),c.a.createElement("div",{className:"col-6 d-flex justify-content-center align-items-center"},c.a.createElement("span",{className:"contact-options__delete d-flex align-items-center",onClick:function(e){e.stopPropagation(),window.confirm("Seguro que deseas eliminar este contacto?")&&(p({type:"REMOVE_CONTACT",id:t.id}),a(!1))}},"Eliminar")),c.a.createElement("div",{className:"contact-options__back f-icon",onClick:function(e){e.stopPropagation(),a(!1)}},"settings_backup_restore")),r?c.a.createElement(E,{contact:t,setShowEditor:m,setShowOptions:a}):null)},g=function(e){var t=e.contact,a=Object(n.useState)(!1),l=Object(i.a)(a,2),o=l[0],r=l[1];return c.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 mt-2 mb-2"},c.a.createElement("div",{className:"row no-gutters contact bg-light pt-2 pb-2",onClick:function(){r(!0)}},c.a.createElement("div",{className:"col-3 ml-2 d-flex align-items-center justify-content-end contact-image"},t.picture?c.a.createElement("img",{className:"contact-image__photo",src:t.picture.thumbnail,alt:"Imagen de ".concat(t.name.first," ").concat(t.name.last)}):c.a.createElement("p",{className:"contact-image__photo contact-image__letters"},"".concat(t.name.first.charAt(0)).concat(t.name.last.charAt(0)))),c.a.createElement("div",{className:"col contact-info"},c.a.createElement("h6",{className:"contact-info__name"},t.name.first?"".concat(t.name.first," ").concat(t.name.last):"Sin Nombre"),c.a.createElement("span",{className:"contact-info__phone"},t.phone?t.phone:"-"),c.a.createElement("span",{className:"contact-info__mail"},t.email?t.email.length>25?"".concat(t.email.substring(0,25),"..."):t.email:"-")),o?c.a.createElement(b,{contact:t,setShowOptions:r}):null))},N=function(){var e=Object(n.useContext)(s),t=Object(i.a)(e,2),a=(t[0],t[1]);return c.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 mt-2 mb-2"},c.a.createElement("div",{className:"new-contact d-flex align-items-center row no-gutters bg-light pt-2 pb-2"},c.a.createElement("form",{action:"#",className:"new-contact-form",onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=Array.from(e.target.querySelectorAll("div > input")),n={name:{}};t.forEach((function(e){if("name"===e.name){var t=e.value.split(" ");return console.log(t),n.name.first=t[0],void(n.name.last=t[1])}n[e.name]=e.value})),a({type:"ADD_CONTACT",data:n}),a(u(!1)),a(d(!1))}},c.a.createElement("div",{className:"d-flex"},c.a.createElement("label",{className:"f-icon"},"account_circle"),c.a.createElement("input",{type:"text",name:"name",placeholder:"Name"})),c.a.createElement("div",{className:"d-flex"},c.a.createElement("label",{className:"f-icon"},"phone"),c.a.createElement("input",{type:"text",name:"phone",placeholder:"Telefono"})),c.a.createElement("div",{className:"d-flex"},c.a.createElement("label",{className:"f-icon"},"email"),c.a.createElement("input",{type:"text",name:"email",placeholder:"Email"})),c.a.createElement("input",{type:"button",value:"close",className:"new-contact-form__close bg-danger f-icon",onClick:function(e){window.confirm("Seguro que no desea agregar un contacto?")&&(e.stopPropagation(),a(u(!1)),a(d(!1)))}}),c.a.createElement("input",{type:"submit",value:"check",className:"new-contact-form__send f-icon bg-confirm"}))))},h=function(){var e=Object(n.useContext)(s),t=Object(i.a)(e,1)[0],a=function(e){return e=(e=(e=(e=(e=(e=e.replace(/\xe1/gi,"a")).replace(/\xe9/gi,"e")).replace(/\xed/gi,"i")).replace(/\xf3/gi,"o")).replace(/\xfa/gi,"u")).replace(/\xf1/gi,"n")};return c.a.createElement("div",{className:"row"},t.isFormAddContact?c.a.createElement(N,null):null,t.contacts.filter((function(e){var n="".concat(e.name.first," ").concat(e.name.last).toLowerCase();return a(n).includes(t.search)})).map((function(e,t){return c.a.createElement(g,{key:t,contact:e})})))},v={contacts:[],search:"",isSearcherDisabled:!1,isFormAddContact:!1},O=function(e,t){switch(t.type){case"GET_API":return Object(p.a)(Object(p.a)({},e),{},{contacts:e.contacts.concat(t.data)});case"SEARCH_CONTACT":var a=t.data;return a=a.toLowerCase(),Object(p.a)(Object(p.a)({},e),{},{search:a});case"EDIT_CONTACT":var n=t.data,c=n.id,l=n.first,o=n.last,r=n.phone,i=n.email;return Object(p.a)(Object(p.a)({},e),{},{contacts:e.contacts.map((function(e){return e.id===c&&(e.name.first=l,e.name.last=o,e.phone=r,e.email=i),e}))});case"DISABLE_SEARCHER":return console.log(t.data),Object(p.a)(Object(p.a)({},e),{},{isSearcherDisabled:t.data});case"FORM_ADD_CONTACT":return Object(p.a)(Object(p.a)({},e),{},{isFormAddContact:t.data});case"ADD_CONTACT":return t.data.id=e.contacts.length,e.contacts.unshift(t.data),console.log(e.contacts),Object(p.a)({},e);case"REMOVE_CONTACT":return Object(p.a)(Object(p.a)({},e),{},{contacts:e.contacts.filter((function(e){return e.id!==t.id}))});default:console.log("error inesperado",t.type)}},_=function(e){var t=Object(n.useReducer)(O,v),a=Object(i.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)((function(){fetch("https://randomuser.me/api/?results=25").then((function(e){return e.json()})).then((function(e){var t=e.results;return o({type:"GET_API",data:t})}))}),[]),c.a.createElement(s.Provider,{value:[l,o]},e.children)},C=function(){var e=Object(n.useContext)(s),t=Object(i.a)(e,2),a=(t[0],t[1]);return c.a.createElement("div",{className:"col-2 col-md-1 add-contact"},c.a.createElement("div",{className:"f-icon add-contact__icon bg-action text-white",onClick:function(){a(d(!0)),a(u(!0))}},"add"))},j=(a(10),function(){return c.a.createElement(_,null,c.a.createElement("div",{className:"container pt-4"},c.a.createElement(r,null),c.a.createElement(m,null),c.a.createElement("div",{className:"row no-gutters mb-1 justify-content-between"},c.a.createElement(f,null),c.a.createElement(C,null)),c.a.createElement(h,null)))});o.a.render(c.a.createElement(j,null),document.getElementById("root"))},5:function(e,t,a){e.exports=a(11)}},[[5,1,2]]]);
//# sourceMappingURL=main.2af755ae.chunk.js.map